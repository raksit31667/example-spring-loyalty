version: '3'
services:
  api-service-check:
    image: openjdk:11.0.2-slim
    working_dir: /api-service
    command: ./gradlew api-service:clean api-service:check api-service:zipReports
    volumes:
      - .:/api-service
      - /var/run/docker.sock:/var/run/docker.sock
      - ~/.aws:/root/.aws
      - gradle-cache:/root/.gradle

volumes:
  gradle-cache:
